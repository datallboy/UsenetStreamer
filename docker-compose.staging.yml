services:
  staging-v1:
    image: usenetstreamer:staging-v1
    container_name: usenetstreamer-staging-v1
    restart: unless-stopped
    environment:
      PORT: "7000"
      CONFIG_DIR: /data/config
      ADDON_BASE_URL: http://127.0.0.1:17001
      STREAM_V2_ENABLED: "false"
    ports:
      - "17001:7000"
    volumes:
      - ./out/staging/v1:/data

  staging-v2-legacy:
    image: usenetstreamer:staging-v2
    container_name: usenetstreamer-staging-v2-legacy
    restart: unless-stopped
    environment:
      PORT: "7000"
      CONFIG_DIR: /data/config
      ADDON_BASE_URL: http://127.0.0.1:17002
      STREAM_V2_ENABLED: "false"
    ports:
      - "17002:7000"
    volumes:
      - ./out/staging/v2-legacy:/data

  staging-v2:
    image: usenetstreamer:staging-v2
    container_name: usenetstreamer-staging-v2
    restart: unless-stopped
    environment:
      PORT: "7000"
      CONFIG_DIR: /data/config
      ADDON_BASE_URL: http://127.0.0.1:17003
      STREAM_V2_ENABLED: "true"
    ports:
      - "17003:7000"
    volumes:
      - ./out/staging/v2:/data
